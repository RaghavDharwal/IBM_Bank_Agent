<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply for Loan - Banking Portal</title>
   <link rel="stylesheet" href="./stylesheets/apply.css">
</head>
<body>
    <div class="header">
        <h1>üíº Loan Application</h1>
        <p class="subtitle">Apply for Personal, Home, or Business Loans</p>
        <div class="nav-links">
            <a href="index.html" class="nav-link">ü§ñ Loan Agent</a>
            <a href="staff.html" class="nav-link">üë©‚Äçüíº Staff Login</a>
        </div>
    </div>
    
    <div class="main-content">
        <div class="auth-status-bar" id="authStatusBar">
            <span class="status-text" id="statusText"></span>
            <button class="clear-btn" onclick="clearAllSessions()">Clear Session</button>
        </div>
        
        <div class="application-container">
            <div class="application-header">
                <h2>üí∞ Start Your Loan Application</h2>
                <p>Get pre-approved in minutes with our AI-powered assessment</p>
            </div>
            
            <!-- User Authentication Section -->
            <div class="auth-section">
                <div class="user-status" id="userStatus">
                    <strong>‚úÖ Logged in as: </strong><span id="userEmail"></span>
                    <button onclick="logout()" style="float: right; background: #ef4444; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">Logout</button>
                </div>
                
                <div id="authContainer">
                    <div class="auth-tabs">
                        <div class="auth-tab active" onclick="switchAuthTab('login')">Login</div>
                        <div class="auth-tab" onclick="switchAuthTab('register')">Register</div>
                    </div>
                    
                    <div class="alert alert-error" id="authError"></div>
                    <div class="alert alert-success" id="authSuccess"></div>
                    
                    <!-- Login Form -->
                    <form class="auth-form active" id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email Address</label>
                            <input type="email" id="loginEmail" required placeholder="your.email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" required placeholder="Enter your password">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary">Login to Continue</button>
                        </div>
                    </form>
                    
                    <!-- Register Form -->
                    <form class="auth-form" id="registerForm">
                        <div class="form-group">
                            <label for="regFullName">Full Name</label>
                            <input type="text" id="regFullName" required placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="regEmail">Email Address</label>
                            <input type="email" id="regEmail" required placeholder="your.email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="regPhone">Phone Number</label>
                            <input type="tel" id="regPhone" required placeholder="+1 (555) 123-4567">
                        </div>
                        <div class="form-group">
                            <label for="regPassword">Password</label>
                            <input type="password" id="regPassword" required placeholder="Create a strong password">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary">Create Account & Continue</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Loan Application Section -->
            <div id="loanApplicationSection" style="display: none;">
                <div class="form-section">
                    <!-- Application Tabs -->
                    <div class="application-tabs">
                        <div class="app-tab active" onclick="switchAppTab('newApplication')">
                            üìù New Application
                        </div>
                        <div class="app-tab" onclick="switchAppTab('drafts')">
                            üíæ Drafts
                        </div>
                        <div class="app-tab" onclick="switchAppTab('history')">
                            ÔøΩ History
                        </div>
                    </div>
                    
                    <!-- New Application Tab Content -->
                    <div id="newApplicationTab" class="tab-content active">
                        <h3 class="section-title">üìã New Loan Application</h3>
                        
                        <div class="alert alert-info" id="applicationInfo"></div>
                        <div class="alert alert-error" id="applicationError"></div>
                        <div class="alert alert-success" id="applicationSuccess"></div>
                        
                        <form id="loanApplicationForm">
                            <!-- Personal Details Section -->
                            <div class="section-title">üë§ Personal Details</div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="fullName">Full Name *</label>
                                    <input type="text" id="fullName" required placeholder="John Doe">
                                </div>
                                
                                <div class="form-group">
                                    <label for="dateOfBirth">Date of Birth *</label>
                                    <input type="date" id="dateOfBirth" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="gender">Gender *</label>
                                    <select id="gender" required>
                                        <option value="">Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Prefer not to say">Prefer not to say</option>
                                        <option value="Attack helicopter">Attack helicopter</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="maritalStatus">Marital Status *</label>
                                    <select id="maritalStatus" required>
                                        <option value="">Select Status</option>
                                        <option value="Single">Single</option>
                                        <option value="Married">Married</option>
                                        <option value="Divorced">Divorced</option>
                                        <option value="Widowed">Widowed</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="nationality">Nationality *</label>
                                    <input type="text" id="nationality" required placeholder="Indian" value="Indian">
                                </div>
                                
                                <div class="form-group">
                                    <label for="contactNumber">Contact Number *</label>
                                    <input type="tel" id="contactNumber" required placeholder="+91 9876543210">
                                </div>
                            </div>

                            <!-- Employment & Income Details Section -->
                            <div class="section-title">üíº Employment & Income Details</div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="employmentType">Employment Type *</label>
                                    <select id="employmentType" required>
                                        <option value="">Select Employment Type</option>
                                        <option value="Salaried">Salaried</option>
                                        <option value="Self-employed">Self-employed</option>
                                        <option value="Business Owner">Business Owner</option>
                                        <option value="Freelancer">Freelancer</option>
                                        <option value="Retired">Retired</option>
                                        <option value="Student">Student</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="employerName">Name of Employer or Business *</label>
                                    <input type="text" id="employerName" required placeholder="ABC Corporation / Own Business">
                                </div>
                                
                                <div class="form-group">
                                    <label for="annualIncome">Annual Income (‚Çπ) *</label>
                                    <input type="number" id="annualIncome" required min="0" 
                                           placeholder="500000" title="Enter amount in Rupees">
                                </div>
                                
                                <div class="form-group">
                                    <label for="existingLoans">Existing Loans and EMIs (if any) *</label>
                                    <textarea id="existingLoans" placeholder="Details of existing loans, EMIs, credit card debts. Write 'None' if no existing loans."></textarea>
                                </div>
                            </div>

                            <!-- Loan Specific Details Section -->
                            <div class="section-title">üè† Loan Specific Details</div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="loanType">Type of Loan Needed *</label>
                                    <select id="loanType" required>
                                        <option value="">Select Loan Type</option>
                                        <option value="Home loan">Home Loan</option>
                                        <option value="Educational loan">Educational Loan</option>
                                        <option value="Car loan">Car Loan</option>
                                        <option value="Business Loan">Business Loan</option>
                                        <option value="Personal loan">Personal Loan</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="loanAmount">Amount of Loan Required (‚Çπ) *</label>
                                    <input type="number" id="loanAmount" required min="50000" max="100000000" 
                                           placeholder="1000000" title="Enter amount in Rupees">
                                </div>
                                
                                <div class="form-group">
                                    <label for="loanTenure">Tenure (Years) *</label>
                                    <select id="loanTenure" required>
                                        <option value="">Select Tenure</option>
                                        <option value="1">1 Year</option>
                                        <option value="2">2 Years</option>
                                        <option value="3">3 Years</option>
                                        <option value="5">5 Years</option>
                                        <option value="7">7 Years</option>
                                        <option value="10">10 Years</option>
                                        <option value="15">15 Years</option>
                                        <option value="20">20 Years</option>
                                        <option value="25">25 Years</option>
                                        <option value="30">30 Years</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="loanPurpose">Purpose of Loan *</label>
                                    <textarea id="loanPurpose" required 
                                             placeholder="Describe the specific purpose of this loan in detail..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="preferredEmi">Preferred EMI (‚Çπ)</label>
                                    <input type="number" id="preferredEmi" min="1000" 
                                           placeholder="25000" title="Your preferred monthly EMI amount">
                                </div>
                                
                                <div class="form-group">
                                    <label for="cibilScore">CIBIL Score *</label>
                                    <input type="number" id="cibilScore" required min="300" max="900" 
                                           placeholder="750" title="Your credit score (300-900)">
                                </div>
                            </div>
                            
                            <div class="form-section" style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
                                <p style="margin: 0; color: #6c757d; text-align: center;">
                                    <strong>üîí Secure Application:</strong> Your data is encrypted and processed using Watson AI for instant eligibility assessment.
                                </p>
                            </div>
                            
                            <button type="submit" class="btn-primary" id="submitApplicationBtn">
                                üöÄ Submit Application for AI Pre-Approval
                            </button>
                        </form>
                    </div>
                    
                    <!-- Drafts Tab Content -->
                    <div id="draftsTab" class="tab-content">
                        <h3 class="section-title">üíæ Application Drafts</h3>
                        <div id="draftsContainer">
                            <div class="empty-state">
                                <div style="text-align: center; padding: 3rem; color: #6c757d;">
                                    <div style="font-size: 4rem; margin-bottom: 1rem;">üìã</div>
                                    <h4>No Drafts Found</h4>
                                    <p>Pre-approved applications will appear here for document upload.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- History Tab Content -->
                    <div id="historyTab" class="tab-content">
                        <h3 class="section-title">üìä Application History</h3>
                        <div id="historyContainer">
                            <div class="empty-state">
                                <div style="text-align: center; padding: 3rem; color: #6c757d;">
                                    <div style="font-size: 4rem; margin-bottom: 1rem;">üìà</div>
                                    <h4>No Applications Found</h4>
                                    <p>Your submitted loan applications will appear here.</p>
                                    <button onclick="switchAppTab('newApplication')" class="btn-primary" style="margin-top: 1rem; width: auto; padding: 0.8rem 2rem;">
                                        Apply for Your First Loan
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script src="./scripts/apply.js"></script>
</body>
</html>
